# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ MCP Proxy

**–î–∞—Ç–∞**: 2024-12-27  
**–ê–≤—Ç–æ—Ä**: Vasiliy Zdanovskiy

## –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞

‚úÖ **–°–µ—Ä–≤–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- `server_id`: `code-analysis-server`
- `registered_at`: 2025-12-27T10:11:27
- `status`: active
- `command_count`: 65 –∫–æ–º–∞–Ω–¥
- `server_url`: https://172.28.0.1:15000

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã

1. **`get_worker_status`** ‚úÖ
   - `worker_type: file_watcher` - —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
   - `worker_type: vectorization` - —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤

2. **`list_code_entities`** ‚úÖ
   - –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª–∞—Å—Å–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
   - –ü—Ä–∏–º–µ—Ä: 10 –∫–ª–∞—Å—Å–æ–≤ –Ω–∞–π–¥–µ–Ω–æ

3. **`find_classes`** ‚úÖ
   - –ü–æ–∏—Å–∫ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É "Worker" —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ù–∞–π–¥–µ–Ω –∫–ª–∞—Å—Å `VectorizationWorker`

4. **`get_database_status`** ‚úÖ
   - –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ë–î:
     - –†–∞–∑–º–µ—Ä –ë–î: 39.76 MB
     - –ü—Ä–æ–µ–∫—Ç–æ–≤: 1
     - –§–∞–π–ª–æ–≤: 236 (–≤—Å–µ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ deleted - —ç—Ç–æ –≤–µ—Ä—Å–∏–∏)
     - –ß–∞–Ω–∫–æ–≤: 563 (100% –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)

5. **`search_ast_nodes`** ‚úÖ
   - –ü–æ–∏—Å–∫ —É–∑–ª–æ–≤ AST —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

6. **`get_imports`** ‚úÖ
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤

7. **`find_usages`** ‚úÖ
   - –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

8. **`get_class_hierarchy`** ‚úÖ
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

9. **`list_project_files`** ‚úÖ
   - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

10. **`health`** ‚úÖ
    - Health check —Ä–∞–±–æ—Ç–∞–µ—Ç

11. **`help`** ‚úÖ
    - –°–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö

### ‚ö†Ô∏è –ö–æ–º–∞–Ω–¥—ã —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏

1. **`get_code_entity_info`** ‚ö†Ô∏è
   - –ü—Ä–æ–±–ª–µ–º–∞: `Entity not found: class WorkerManager`
   - –ü—Ä–∏—á–∏–Ω–∞: WorkerManager - –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –Ω–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω –≤ –ë–î
   - –†–µ—à–µ–Ω–∏–µ: –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã —á–µ—Ä–µ–∑ `update_indexes

2. **`list_class_methods`** ‚ùå
   - –û—à–∏–±–∫–∞: `search_methods() got an unexpected keyword argument 'class_name'`
   - –ü—Ä–∏—á–∏–Ω–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞
   - –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–º–∞–Ω–¥—ã

3. **`fulltext_search`** ‚ö†Ô∏è
   - –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç `register_worker` (0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
   - –ü—Ä–∏—á–∏–Ω–∞: –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∏–ª–∏ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º
   - –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã —á–µ—Ä–µ–∑ `update_indexes`

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **–í—Å–µ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: 13 –∫–æ–º–∞–Ω–¥
- **–†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**: 9 –∫–æ–º–∞–Ω–¥ (69%)
- **–° –ø—Ä–æ–±–ª–µ–º–∞–º–∏**: 4 –∫–æ–º–∞–Ω–¥—ã (31%)
  - 2 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (list_class_methods, search_ast_nodes) - ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–´
  - 2 –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π (get_code_entity_info, fulltext_search, semantic_search)

## –í—ã–≤–æ–¥—ã

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–ö–æ–º–∞–Ω–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞** - —Ä–∞–±–æ—Ç–∞—é—Ç
4. **–ö–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î** - —Ä–∞–±–æ—Ç–∞—é—Ç
5. **WorkerManager –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã

### üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

1. ‚úÖ **`list_class_methods`** - –ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `class_name` –≤ `search_methods`
2. ‚úÖ **`search_ast_nodes`** - –ò–°–ü–†–ê–í–õ–ï–ù–û: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ `sqlite3.Row` –≤ `dict`
3. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã** - –∑–∞–ø—É—Å—Ç–∏—Ç—å `update_indexes` –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (WorkerManager, SQLiteDriverProxy –∏ —Ç.–¥.)
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä** - –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `update_indexes` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –ë–î
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –≤ `list_class_methods`
3. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è `get_code_entity_info` –∏ `fulltext_search`

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `list_class_methods` - –í–´–ü–û–õ–ù–ï–ù–û
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `search_ast_nodes` - –í–´–ü–û–õ–ù–ï–ù–û
3. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - –í–´–ü–û–õ–ù–ï–ù–û
4. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã —á–µ—Ä–µ–∑ `update_indexes` - –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (WorkerManager, SQLiteDriverProxy)
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ - –í –ü–†–û–¶–ï–°–°–ï

## –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ `search_ast_nodes` - –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ —Å `sqlite3.Row`
- ‚úÖ `list_class_methods` - –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `class_name`
- ‚è≥ `get_code_entity_info` - –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
- ‚è≥ `fulltext_search` - –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤

